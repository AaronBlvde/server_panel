<thead class="table-light">
  <tr>
    <th>ID</th>
    <th>Имя</th>
    <th>Статус</th>
    <th>Порт</th> <!-- новый столбец -->
    <th>Действия</th>
  </tr>
</thead>
<tbody>
  {% for c in containers %}
  <tr class="{% if c.status != 'running' %}table-danger{% else %}table-success{% endif %}">
    <td>{{ c.id[:12] }}</td>
    <td>{{ c.name }}</td>
    <td>{{ c.status }}</td>
    <td>
      {% set ports = c.attrs['NetworkSettings']['Ports'] %}
      {% if ports %}
        {% for container_port, mappings in ports.items() %}
          {% if mappings %}
            {{ mappings[0]['HostPort'] }}
          {% else %}
            -
          {% endif %}
        {% endfor %}
      {% else %}
        -
      {% endif %}
    </td>
    <td>
      {% if roles.view %}
        <a href="{{ url_for('main.container_logs', container_id=c.id) }}" class="btn btn-info btn-sm me-1">
          <i class="bi bi-journal-text"></i> Логи
        </a>
      {% endif %}
      {% if roles.start_stop %}
        {% if c.status != 'running' %}
        <a href="{{ url_for('main.container_start', container_id=c.id) }}" class="btn btn-success btn-sm me-1">
          <i class="bi bi-play-fill"></i> Запустить
        </a>
        {% else %}
        <a href="{{ url_for('main.container_stop', container_id=c.id) }}" class="btn btn-warning btn-sm me-1">
          <i class="bi bi-stop-fill"></i> Остановить
        </a>
        {% endif %}
      {% endif %}
      {% if roles.rebuild %}
        <a href="{{ url_for('main.rebuild_container', container_name=c.name) }}" class="btn btn-danger btn-sm">
          <i class="bi bi-arrow-repeat"></i> Пересобрать
        </a>
      {% endif %}
    </td>
  </tr>
  {% endfor %}
</tbody>
